.develop:
  stage: develop
  allow_failure: true
  needs: []

clang-format:
  extends:
    - .develop
  image: ghcr.io/ricosjp/allgebra/clang-format:21.06.1
  script:
    - check_format.sh

keep-changelog:
  extends:
    - .develop
  image: ghcr.io/ricosjp/allgebra/clang-format:21.06.1
  script:
    - bash -c "! git diff --exit-code origin/master... -- CHANGELOG.md"
  except:
    - master
    - tags

markdown-link-check:
  extends:
    - .develop
  image: node:16
  script:
    - npm install -g markdown-link-check
    - markdown-link-check README.md
